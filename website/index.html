<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>মেসার্স নজরুল ট্রেডার্স | প্রিমিয়াম কৃষি ও স্যানিটারি সমাধান</title>
    <meta
      name="description"
      content="মাদারগঞ্জ, জামালপুরের সেরা কৃষি ও স্যানিটারি পণ্যের বিশ্বস্ত প্রতিষ্ঠান। উন্নত মানের বীজ ও স্যানিটারি সরঞ্জাম।" />
    <meta name="theme-color" content="#052e16" />

    <!-- Tailwind (CDN for quick/demo; recommended to compile for production) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts & icons -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap"
      rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

    <!-- AOS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

    <style>
      /* =========================================================
         Root Variables
      ========================================================= */
      :root {
        --dark-green: #052e16;
        --gold: #fbbf24;
        --focus-ring: rgba(11, 197, 153, 0.28); /* focus ring color */
      }

      /* =========================================================
         Base Styles
      ========================================================= */
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      html {
        overflow-x: hidden;
        scroll-behavior: smooth;
      }

      body {
        font-family: 'Hind Siliguri', sans-serif;
        position: relative;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      /* =========================================================
         Color Utilities
      ========================================================= */
      .bg-dark-green {
        background-color: var(--dark-green);
      }

      .text-dark-green {
        color: var(--dark-green);
      }

      .text-gold {
        color: var(--gold);
      }

      .bg-gold {
        background-color: var(--gold);
      }

      .border-gold {
        border-color: var(--gold);
      }

      .bg-gold-20 {
        background-color: rgba(251, 191, 36, 0.18);
      }

      /* =========================================================
         Background & Overlay
      ========================================================= */
      .gradient-overlay {
        background: linear-gradient(
          to bottom,
          rgba(5, 46, 22, 0.8),
          rgba(5, 46, 22, 1)
        );
      }

      /* =========================================================
         Buttons & Hover Effects
      ========================================================= */
      .btn-hover {
        position: relative;
        overflow: hidden;
        z-index: 1;
        transition: transform 200ms ease, box-shadow 200ms ease;
      }

      .btn-hover::after {
        content: '';
        position: absolute;
        inset: 0;
        width: 0%;
        background: rgba(255, 255, 255, 0.08);
        transition: width 0.25s ease;
        z-index: -1;
      }

      .btn-hover:hover::after,
      .btn-hover:focus-visible::after {
        width: 100%;
      }

      .btn-hover:active {
        transform: translateY(1px);
      }

      /* =========================================================
         Shine Effect
      ========================================================= */
      .shine {
        position: relative;
        overflow: hidden;
      }

      .shine::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 50%;
        height: 100%;
        background: linear-gradient(
          to right,
          transparent,
          rgba(255, 255, 255, 0.25),
          transparent
        );
        transform: skewX(-25deg);
        transition: left 0.75s;
      }

      .shine:hover::before,
      .shine:focus-visible::before {
        left: 125%;
      }

      /* =========================================================
         Media Responsiveness
      ========================================================= */
      img,
      picture,
      video,
      iframe,
      svg {
        max-width: 100%;
        height: auto;
        display: block;
      }

      /* =========================================================
         Map / Iframe
      ========================================================= */
      .map-wrapper {
        width: 100%;
        min-width: 0;
        min-height: 300px;
        overflow: hidden;
      }

      .map-wrapper iframe {
        width: 100%;
        min-width: 0;
        height: 100%;
        display: block;
      }

      @media (min-width: 1024px) {
        .map-wrapper {
          min-height: 400px;
        }
      }

      /* =========================================================
         Accessibility (improved)
         - use :focus-visible so mouse clicks don't show ring
      ========================================================= */
      :focus-visible {
        outline: 3px solid var(--focus-ring);
        outline-offset: 2px;
        border-radius: 6px;
        box-shadow: 0 0 0 3px rgba(11, 197, 153, 0.06);
      }

      /* Screen-reader only, and focusable variant */
      .sr-only {
        position: absolute !important;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0 0 0 0);
        clip-path: inset(50%);
        white-space: nowrap;
        border: 0;
      }

      /* Use this class when an element is visually hidden but should become visible on keyboard focus */
      .sr-only-focusable:active,
      .sr-only-focusable:focus,
      .sr-only-focusable:focus-within {
        position: static !important;
        width: auto;
        height: auto;
        margin: 0;
        overflow: visible;
        clip: auto;
        clip-path: none;
        white-space: normal;
      }

      /* =========================================================
         Modal & Backdrop (z-index tuned)
      ========================================================= */
      .modal-backdrop {
        background: rgba(0, 0, 0, 0.55);
        z-index: 1100; /* ensure modal/backdrop above other UI elements */
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem;
      }

      /* Dialog inside backdrop should appear above backdrop content */
      .modal-backdrop > * {
        z-index: 1101;
      }

      /* =========================================================
         High Contrast Mode
      ========================================================= */
      .high-contrast {
        filter: none;
      }

      .high-contrast body {
        background: #fff !important;
        color: #000 !important;
      }

      .high-contrast .bg-dark-green {
        background-color: #000 !important;
      }

      .high-contrast .text-gold {
        color: #ffb703 !important;
      }

      /* =========================================================
         Toast / Alert
         - toast kept below modal but above page content
      ========================================================= */
      .toast {
        position: fixed;
        left: 50%;
        bottom: 6rem;
        transform: translateX(-50%);
        z-index: 1000; /* below modal (1100) but above page (default) */
        background: rgba(0, 0, 0, 0.85);
        color: #fff;
        padding: 0.6rem 1rem;
        border-radius: 8px;
        font-weight: 600;
        box-shadow: 0 6px 18px rgba(2, 6, 23, 0.6);
      }

      /* =========================================================
         Layout Overflow Protection
      ========================================================= */
      #about > .relative,
      #home,
      section {
        overflow-x: hidden;
      }

      /* ============================
         Active nav link style
      ============================ */
      .nav-active {
        color: #fbbf24 !important; /* gold */
        position: relative;
      }

      .nav-active::after {
        content: '';
        position: absolute;
        bottom: -6px;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: #fbbf24;
      }

      /* =========================================================
         Mobile menu animation
         Note: JS should REMOVE .hidden first, then ADD .active to animate in.
         Tailwind's .hidden sets display:none; transitions won't run while display:none.
      ========================================================= */
      #mobile-menu {
        transition: opacity 0.28s cubic-bezier(0.2, 0.9, 0.2, 1),
          transform 0.28s cubic-bezier(0.2, 0.9, 0.2, 1), visibility 0.28s;
        opacity: 0;
        visibility: hidden;
        transform: translateY(-10px);
        /* keep it off-interaction by default; JS toggles .active/.hidden */
      }

      #mobile-menu.active {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      /* Provide a modest visual for when mobile menu is visible and focusable */
      #mobile-menu a:focus-visible {
        outline: 2px solid rgba(251, 191, 36, 0.15);
        outline-offset: 2px;
        border-radius: 6px;
      }

      /* =========================================================
         Small helpers / consistency
      ========================================================= */
      .rounded-full {
        border-radius: 9999px;
      }

      .shadow-2xl {
        box-shadow: 0 20px 40px rgba(2, 6, 23, 0.35);
      }

      /* =========================================================
         Respect user preference: reduce motion
      ========================================================= */
      @media (prefers-reduced-motion: reduce) {
        .shine::before,
        .btn-hover::after,
        #mobile-menu,
        .fade-in,
        [data-aos] {
          transition: none !important;
          animation: none !important;
        }
      }

      /* =========================================================
         Minor responsive / safety tweaks
      ========================================================= */
      @media (max-width: 480px) {
        .nav-active::after {
          bottom: -4px;
        }
      }
    </style>
  </head>

  <body class="bg-slate-50">
    <!-- Skip link -->
    <a
      href="#main"
      class="sr-only sr-only-focusable p-2 bg-dark-green text-white rounded"
      >Skip to content</a
    >

    <!-- Top bar -->
    <div class="bg-dark-green text-white py-2 px-4 text-sm hidden md:block">
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <div class="flex gap-6">
          <span
            ><i
              class="fa-solid fa-location-dot text-gold mr-2"
              aria-hidden="true"></i
            >কয়ড়া বাজার, মাদারগঞ্জ</span
          >
          <span
            ><i class="fa-solid fa-clock text-gold mr-2" aria-hidden="true"></i
            >প্রতিদিন সকাল ৮টা - রাত ৯টা</span
          >
        </div>
        <div class="flex gap-4">
          <a href="#" class="hover:text-gold" aria-label="Facebook"
            ><i class="fa-brands fa-facebook" aria-hidden="true"></i
          ></a>
          <a href="#" class="hover:text-gold" aria-label="WhatsApp"
            ><i class="fa-brands fa-whatsapp" aria-hidden="true"></i
          ></a>
        </div>
      </div>
    </div>

    <!-- Navbar -->
    <nav
      class="sticky top-0 z-50 bg-white shadow-lg border-b border-gray-100"
      aria-label="Primary navigation">
      <div
        class="max-w-7xl mx-auto px-4 h-20 flex justify-between items-center">
        <div class="flex items-center gap-3">
          <div
            class="p-2 bg-dark-green rounded-xl shadow-inner"
            aria-hidden="true">
            <i class="fa-solid fa-seedling text-gold text-2xl"></i>
          </div>
          <div>
            <h1
              class="text-xl md:text-2xl font-black text-dark-green leading-none">
              নজরুল ট্রেডার্স
            </h1>
            <p
              class="text-[10px] uppercase tracking-[0.2em] text-gray-500 font-bold mt-1">
              Trust & Quality since 1998
            </p>
          </div>
        </div>

        <div class="hidden lg:flex items-center gap-10 font-bold text-gray-700">
          <a href="#home" class="hover:text-green-800 transition">হোম</a>
          <a href="#about" class="hover:text-green-800 transition"
            >আমাদের পরিচিতি</a
          >
          <a href="#products" class="hover:text-green-800 transition"
            >পণ্যসমূহ</a
          >
          <a href="#brands" class="hover:text-green-800 transition"
            >ব্র্যান্ডস</a
          >
          <a
            href="#contact"
            class="bg-dark-green text-white px-8 py-3 rounded-full btn-hover"
            >যোগাযোগ করুন</a
          >
        </div>

        <div class="flex items-center gap-3">
          <!-- High-contrast toggle -->
          <button
            id="contrastToggle"
            aria-pressed="false"
            title="উচ্চ কনট্রাস্ট"
            class="hidden md:inline-flex items-center gap-2 px-3 py-2 rounded border text-sm">
            <i class="fa-solid fa-eye-low-vision text-dark-green"></i>
            <span class="text-dark-green font-bold">উচ্চ কনট্রাস্ট</span>
          </button>

          <button
            id="menu-toggle"
            class="lg:hidden text-dark-green text-2xl focus:outline-none"
            aria-controls="mobile-menu"
            aria-expanded="false"
            aria-label="মেনু টগল">
            <i class="fa-solid fa-bars-staggered" aria-hidden="true"></i>
          </button>
        </div>
      </div>

      <!-- Mobile menu -->
      <div
        id="mobile-menu"
        class="hidden absolute top-20 left-0 w-full bg-white border-t border-gray-100 shadow-xl lg:hidden transition-all duration-300"
        aria-hidden="true">
        <div class="flex flex-col p-4 space-y-4 font-bold text-gray-700">
          <a
            href="#home"
            class="hover:text-green-800 py-2 border-b border-gray-50"
            >হোম</a
          >
          <a
            href="#about"
            class="hover:text-green-800 py-2 border-b border-gray-50"
            >আমাদের পরিচিতি</a
          >
          <a
            href="#products"
            class="hover:text-green-800 py-2 border-b border-gray-50"
            >পণ্যসমূহ</a
          >
          <a
            href="#brands"
            class="hover:text-green-800 py-2 border-b border-gray-50"
            >ব্র্যান্ডস</a
          >
          <a
            href="#contact"
            class="bg-dark-green text-white px-6 py-3 rounded-xl text-center"
            >যোগাযোগ</a
          >
        </div>
      </div>
    </nav>

    <main id="main">
      <!-- Hero -->
      <section
        id="home"
        class="relative min-h-[85vh] flex items-center overflow-hidden bg-dark-green">
        <img
          src="https://images.unsplash.com/photo-1625246333195-78d9c38ad449?q=80&w=2070"
          class="absolute inset-0 w-full h-full object-cover opacity-40"
          alt="Farmer working in field" />
        <div class="absolute inset-0 gradient-overlay" aria-hidden="true"></div>

        <div
          class="relative max-w-7xl mx-auto px-4 grid lg:grid-cols-2 gap-12 items-center">
          <div data-aos="fade-right">
            <div
              class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-md border border-white/20 px-4 py-2 rounded-full text-gold mb-6 font-semibold">
              <span
                class="flex h-2 w-2 rounded-full bg-gold animate-ping"
                aria-hidden="true"></span>
              জামালপুরের সেরা কৃষি ও স্যানিটারি স্টোর
            </div>
            <h1
              class="text-5xl md:text-7xl font-extrabold text-white mb-8 leading-[1.1]">
              উন্নত কৃষি মানেই <br /><span class="text-gold"
                >মেসার্স নজরুল</span
              >
              ট্রেডার্স
            </h1>
            <p class="text-xl text-gray-300 mb-10 max-w-lg leading-relaxed">
              আমরা শুধু পণ্য বিক্রি করি না, আমরা কৃষকের স্বপ্নকে সফল করতে সঠিক
              পরামর্শ ও উন্নত মানের কৃষি সরঞ্জাম নিশ্চিত করি।
            </p>
            <div class="flex flex-col sm:flex-row gap-5">
              <a
                href="#products"
                class="shine bg-gold text-dark-green px-10 border border-white/30 py-5 rounded-2xl font-black text-lg text-center shadow-2xl">
                পণ্য তালিকা দেখুন
                <i class="fa-solid fa-arrow-right ml-2" aria-hidden="true"></i>
              </a>
              <a
                href="tel:01740548300"
                class="bg-white/10 hover:bg-white/20 border border-white/30 backdrop-blur-sm text-white px-10 py-5 rounded-2xl font-black text-lg text-center tel-link">
                সরাসরি কল দিন
              </a>
            </div>
          </div>

          <div class="hidden lg:block" data-aos="fade-left">
            <div
              class="bg-white/5 backdrop-blur-xl border border-white/10 p-10 rounded-[40px] shadow-2xl text-center">
              <div class="grid grid-cols-2 gap-6">
                <div class="p-6 bg-white/10 rounded-3xl">
                  <i
                    class="fa-solid fa-shield-check text-gold text-4xl mb-4"
                    aria-hidden="true"></i>
                  <h4 class="text-white font-bold text-lg">১০০% আসল</h4>
                </div>
                <div class="p-6 bg-white/10 rounded-3xl">
                  <i
                    class="fa-solid fa-award text-gold text-4xl mb-4"
                    aria-hidden="true"></i>
                  <h4 class="text-white font-bold text-lg">সেরা মান</h4>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- About -->
      <section id="about" class="py-24 bg-white overflow-hidden">
        <div
          class="max-w-7xl mx-auto px-4 grid md:grid-cols-2 gap-16 items-center">
          <div class="relative" data-aos="zoom-in">
            <img
              src="https://images.unsplash.com/photo-1560493676-04071c5f467b?q=80&w=1000"
              class="rounded-[40px] shadow-2xl relative z-10"
              alt="Agriculture Shop" />
            <div
              class="absolute -bottom-6 -right-6 bg-gold text-dark-green p-8 rounded-[30px] hidden md:block z-20">
              <p class="text-4xl font-black">২৫+</p>
              <p class="font-bold text-sm leading-tight">বছরের কৃষি অভিজ্ঞতা</p>
            </div>
          </div>
          <div data-aos="fade-left">
            <span
              class="text-green-700 font-bold uppercase tracking-widest text-sm"
              >আমাদের পরিচিতি</span
            >
            <h2
              class="text-4xl md:text-5xl font-black text-dark-green mt-2 mb-6">
              কৃষকের আস্থায় ২৫ বছর
            </h2>
            <p class="text-gray-600 mb-8 text-lg leading-relaxed">
              ১৯৯৮ সালে মাদারগঞ্জের মাটিতে ছোট একটি স্বপ্ন নিয়ে আমাদের যাত্রা
              শুরু। আজ মেসার্স নজরুল ট্রেডার্স কৃষি ও স্যানিটারি খাতে এক
              বিশ্বস্ত নাম। আমরা কেবল পণ্য নয়, মান ও ভরসা বিক্রি করি।
            </p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div class="flex items-center gap-3 font-bold text-gray-700">
                <i
                  class="fa-solid fa-circle-check text-green-600"
                  aria-hidden="true"></i>
                ১০০% অথেন্টিক পণ্য
              </div>
              <div class="flex items-center gap-3 font-bold text-gray-700">
                <i
                  class="fa-solid fa-circle-check text-green-600"
                  aria-hidden="true"></i>
                আধুনিক কৃষি গাইডেন্স
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Brands -->
      <section id="brands" class="py-12 bg-slate-50 border-y overflow-hidden">
        <div class="max-w-7xl mx-auto px-4">
          <p
            class="text-center text-gray-400 font-bold uppercase text-xs tracking-widest mb-8">
            আমাদের গর্বিত পার্টনার ব্র্যান্ডসমূহ
          </p>
          <div
            class="flex flex-wrap justify-center gap-8 md:gap-16 opacity-50 grayscale hover:grayscale-0 transition-all">
            <span class="text-2xl font-black text-slate-400 italic"
              >SYNGENTA</span
            >
            <span class="text-2xl font-black text-slate-400 italic">BAYER</span>
            <span class="text-2xl font-black text-slate-400 italic"
              >LAL TEER</span
            >
            <span class="text-2xl font-black text-slate-400 italic"
              >ACI AGRI</span
            >
            <span class="text-2xl font-black text-slate-400 italic"
              >AUTO CROP</span
            >
          </div>
        </div>
      </section>

      <!-- Products with Request-a-Quote CTA -->
      <section id="products" class="py-24 px-4">
        <div class="max-w-7xl mx-auto">
          <div
            class="flex flex-col md:flex-row justify-between items-end mb-16 gap-6 text-center md:text-left">
            <div data-aos="fade-right">
              <span
                class="text-green-700 font-bold uppercase tracking-widest text-sm"
                >পণ্য তালিকা</span
              >
              <h2 class="text-4xl md:text-5xl font-black text-dark-green mt-2">
                সেরা মালামাল কিনুন
              </h2>
            </div>
            <p class="text-gray-500 max-w-md" data-aos="fade-left">
              আমরা সরাসরি কোম্পানি থেকে সরবরাহকৃত ১০০% অরিজিনাল মালের গ্যারান্টি
              প্রদান করি।
            </p>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Product card example -->
            <div
              class="group bg-white p-2 rounded-[32px] shadow-sm hover:shadow-2xl transition-all duration-500"
              data-aos="fade-up">
              <div class="relative h-64 overflow-hidden rounded-[24px]">
                <img
                  src="https://images.unsplash.com/photo-1595841696677-54897f292c4b?q=80&w=800"
                  class="w-full h-full object-cover group-hover:scale-110 transition duration-700"
                  alt="Seeds" />
                <div
                  class="absolute top-4 left-4 bg-white/90 backdrop-blur px-4 py-1 rounded-full text-xs font-black text-green-800 shadow-sm">
                  প্রিমিয়াম
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-2xl font-bold text-dark-green mb-3">
                  কীটনাশক ও হাইব্রিড বীজ
                </h3>
                <p class="text-gray-600 mb-6 text-sm italic leading-relaxed">
                  ফলন বাড়াতে এবং পোকা দমনে সেরা ব্র্যান্ডের ওষুধ ও হাইব্রিড বীজ।
                </p>
                <div class="flex gap-4 items-center">
                  <a
                    href="https://wa.me/8801730125352"
                    class="text-green-700 font-black flex items-center hover:underline"
                    target="_blank"
                    rel="noopener noreferrer"
                    >বিস্তারিত জানতে
                    <i
                      class="fa-solid fa-arrow-right-long ml-2"
                      aria-hidden="true"></i
                  ></a>
                  <button
                    class="request-quote-btn bg-dark-green text-white px-4 py-2 rounded"
                    data-product="কীটনাশক ও হাইব্রিড বীজ">
                    প্রাইস জানতে চান?
                  </button>
                </div>
              </div>
            </div>

            <!-- Duplicate / other cards -->
            <div
              class="group bg-white p-2 rounded-[32px] shadow-sm hover:shadow-2xl transition-all duration-500"
              data-aos="fade-up"
              data-aos-delay="100">
              <div class="relative h-64 overflow-hidden rounded-[24px]">
                <img
                  src="https://images.unsplash.com/photo-1584622650111-993a426fbf0a?q=80&w=800"
                  class="w-full h-full object-cover group-hover:scale-110 transition duration-700"
                  alt="Sanitary" />
                <div
                  class="absolute top-4 left-4 bg-white/90 backdrop-blur px-4 py-1 rounded-full text-xs font-black text-blue-800 shadow-sm">
                  টেকসই
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-2xl font-bold text-dark-green mb-3">
                  স্যানিটারী �� ফিটিংস
                </h3>
                <p class="text-gray-600 mb-6 text-sm italic leading-relaxed">
                  বাসা-বাড়ি ও কৃষি কাজের জন্য উন্নত মানের পাইপ এবং ফিটিংস।
                </p>
                <div class="flex gap-4 items-center">
                  <a
                    href="https://wa.me/8801730125352"
                    class="text-green-700 font-black flex items-center hover:underline"
                    target="_blank"
                    rel="noopener noreferrer"
                    >বিস্তারিত জানতে
                    <i
                      class="fa-solid fa-arrow-right-long ml-2"
                      aria-hidden="true"></i
                  ></a>
                  <button
                    class="request-quote-btn bg-dark-green text-white px-4 py-2 rounded"
                    data-product="স্যানিটারী ও ফিটিংস">
                    প্রাইস জানতে চান?
                  </button>
                </div>
              </div>
            </div>

            <div
              class="group bg-white p-2 rounded-[32px] shadow-sm hover:shadow-2xl transition-all duration-500"
              data-aos="fade-up"
              data-aos-delay="200">
              <div class="relative h-64 overflow-hidden rounded-[24px]">
                <img
                  src="https://images.unsplash.com/photo-1530507629858-e4977d30e9e0?q=80&w=800"
                  class="w-full h-full object-cover group-hover:scale-110 transition duration-700"
                  alt="Sprayer" />
                <div
                  class="absolute top-4 left-4 bg-white/90 backdrop-blur px-4 py-1 rounded-full text-xs font-black text-orange-800 shadow-sm">
                  আধুনিক
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-2xl font-bold text-dark-green mb-3">
                  ব্যাটারি স্প্রে মেশিন
                </h3>
                <p class="text-gray-600 mb-6 text-sm italic leading-relaxed">
                  অটোমেটিক উন্নত মানের স্প্রে মেশিন ও সকল খুচরা যন্ত্রাংশ পাওয়া
                  যায়।
                </p>
                <div class="flex gap-4 items-center">
                  <a
                    href="https://wa.me/8801730125352"
                    class="text-green-700 font-black flex items-center hover:underline"
                    target="_blank"
                    rel="noopener noreferrer"
                    >বিস্তারিত জানতে
                    <i
                      class="fa-solid fa-arrow-right-long ml-2"
                      aria-hidden="true"></i
                  ></a>
                  <button
                    class="request-quote-btn bg-dark-green text-white px-4 py-2 rounded"
                    data-product="ব্যাটারি স্প্রে মেশিন">
                    প্রাইস জানতে চান?
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonial -->
      <section class="py-24 bg-dark-green relative overflow-hidden">
        <div class="max-w-4xl mx-auto px-4 text-center">
          <i
            class="fa-solid fa-quote-left text-gold text-5xl mb-8 opacity-30"
            aria-hidden="true"></i>
          <h2
            class="text-3xl md:text-4xl font-bold text-white mb-10 italic leading-relaxed">
            "নজরুল ট্রেডার্সের পরামর্শ ও ওষুধের কারণে এ বছর আমার ধানের ফলন অনেক
            ভালো হয়েছে। তাদের ব্যবহারের মান খুবই চমৎকার।"
          </h2>
          <div class="flex flex-col items-center">
            <div
              class="w-20 h-20 bg-gold-20 rounded-full border-2 border-gold flex items-center justify-center mb-4">
              <i
                class="fa-solid fa-user text-gold text-3xl"
                aria-hidden="true"></i>
            </div>
            <p class="text-white font-bold text-xl">মোঃ আব্দুল করিম</p>
            <p class="text-gold text-sm">সফল কৃষক, মাদারগঞ্জ</p>
          </div>
        </div>
      </section>

      <!-- Contact: includes contact form (Formspree placeholder) and responsive map -->
      <section id="contact" class="py-24 px-4 bg-slate-100">
        <div class="max-w-7xl mx-auto">
          <div
            class="bg-white rounded-[40px] shadow-2xl overflow-hidden flex flex-col lg:flex-row-reverse">
            <div class="lg:w-1/2 p-10 md:p-20">
              <h2 class="text-3xl font-black text-dark-green mb-6">
                সরাসরি চলে আসুন
              </h2>

              <div class="space-y-8 mb-8">
                <div class="flex gap-6 group">
                  <div
                    class="w-12 h-12 flex-shrink-0 bg-green-50 rounded-xl flex items-center justify-center text-green-700 text-xl group-hover:bg-green-700 group-hover:text-white transition-all duration-300">
                    <i class="fa-solid fa-phone-volume" aria-hidden="true"></i>
                  </div>
                  <div>
                    <p
                      class="text-xs font-black text-gray-400 uppercase tracking-widest mb-2">
                      কল সেন্টার
                    </p>
                    <div class="flex flex-col space-y-1">
                      <a
                        href="tel:+8801740548300"
                        class="text-xl font-bold text-dark-green hover:text-green-600 transition-colors tel-link"
                        >01740-54 83 00</a
                      >
                      <a
                        href="tel:+8801740548301"
                        class="text-xl font-bold text-dark-green hover:text-green-600 transition-colors tel-link"
                        >01740-54 83 01</a
                      >
                      <a
                        href="tel:+8801730125352"
                        class="text-xl font-bold text-dark-green hover:text-green-600 transition-colors tel-link"
                        >01730-12 53 52</a
                      >
                    </div>
                  </div>
                </div>

                <div class="flex gap-6 group">
                  <div
                    class="w-12 h-12 flex-shrink-0 bg-green-50 rounded-xl flex items-center justify-center text-green-700 text-xl group-hover:bg-green-700 group-hover:text-white transition-all duration-300">
                    <i class="fa-solid fa-map-location" aria-hidden="true"></i>
                  </div>
                  <div>
                    <p
                      class="text-xs font-black text-gray-400 uppercase tracking-widest mb-2">
                      ঠিকানা
                    </p>
                    <p
                      class="text-xl font-bold text-dark-green leading-relaxed">
                      কয়ড়া বাজার, মাদারগঞ্জ, জামালপুর।
                    </p>
                  </div>
                </div>
              </div>

              <h3 class="text-lg font-bold mb-4">সংযুক্তি / দ্রুত বার্তা</h3>

              <!-- Contact form (Formspree placeholder). Replace action with your Formspree ID or backend endpoint. -->
              <form
                id="contactForm"
                action="https://formspree.io/f/your_form_id"
                method="POST"
                class="space-y-4">
                <!-- Honeypot field for spam protection -->
                <input
                  type="text"
                  name="_gotcha"
                  style="display: none"
                  aria-hidden="true" />
                <label class="block">
                  <span class="text-sm text-gray-600">নাম</span>
                  <input
                    type="text"
                    name="name"
                    required
                    class="w-full border px-3 py-2 rounded" />
                </label>
                <label class="block">
                  <span class="text-sm text-gray-600">মোবাইল নম্বর</span>
                  <input
                    type="tel"
                    name="phone"
                    required
                    class="w-full border px-3 py-2 rounded" />
                </label>
                <label class="block">
                  <span class="text-sm text-gray-600">বার্তা</span>
                  <textarea
                    name="message"
                    rows="4"
                    required
                    class="w-full border px-3 py-2 rounded"></textarea>
                </label>
                <div class="flex items-center gap-3">
                  <button
                    type="submit"
                    class="bg-dark-green text-white px-6 py-2 rounded">
                    পাঠান
                  </button>
                  <span class="text-sm text-gray-500"
                    >অথবা WhatsApp-এ জানাতে পারেন</span
                  >
                </div>
              </form>
            </div>

            <div class="lg:w-1/2 min-h-[400px] w-full map-wrapper">
              <iframe
                class="w-full h-full border-0"
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12088.461322264682!2d89.7631896796069!3d24.833750713004562!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39fd9f005ee7b529%3A0x816bbaa92ed916aa!2z4Kau4KeH4Ka44Ka-4Kaw4KeN4Ka4IOCmqOCmnOCmsOCngeCmsiDgpp_gp43gprDgp4fgpqHgpr7gprDgp43gprg!5e1!3m2!1sen!2sbd!4v1768374826580!5m2!1sen!2sbd"
                allowfullscreen
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="নজরুল ট্রেডার্স - অবস্থান"></iframe>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer
      class="bg-dark-green text-white pt-24 pb-12 px-4 border-t border-white/5">
      <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-16">
          <div class="md:col-span-2">
            <div class="flex items-center gap-3 mb-6">
              <i
                class="fa-solid fa-seedling text-gold text-3xl"
                aria-hidden="true"></i>
              <h2 class="text-3xl font-black">নজরুল ট্রেডার্স</h2>
            </div>
            <p class="text-gray-400 max-w-sm mb-8 leading-relaxed italic">
              "কৃষকের মুখে হাসি থাকলে, হাসবে বাংলাদেশ।" আমরা মাদারগঞ্জের প্রতিটি
              কৃষকের ঘরে ঘরে সেরা উপকরণ পৌঁছে দিতে অঙ্গীকারবদ্ধ।
            </p>
            <div class="flex gap-4">
              <a
                href="#"
                class="w-12 h-12 bg-white/5 rounded-full flex items-center justify-center hover:bg-gold hover:text-dark-green transition-all"
                aria-label="Facebook">
                <i class="fa-brands fa-facebook-f" aria-hidden="true"></i>
              </a>
              <a
                href="https://wa.me/8801730125352"
                class="w-12 h-12 bg-white/5 rounded-full flex items-center justify-center hover:bg-gold hover:text-dark-green transition-all"
                aria-label="WhatsApp">
                <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
              </a>
            </div>
          </div>
          <div>
            <h4 class="text-lg font-bold mb-6 text-gold">লিংকসমূহ</h4>
            <ul class="space-y-3 text-gray-400">
              <li>
                <a href="#home" class="hover:text-white transition">হোম</a>
              </li>
              <li>
                <a href="#about" class="hover:text-white transition"
                  >আমাদের কথা</a
                >
              </li>
              <li>
                <a href="#products" class="hover:text-white transition"
                  >পণ্য তালিকা</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-bold mb-6 text-gold">আমাদের সেবা</h4>
            <ul class="space-y-3 text-gray-400">
              <li>সার ও বিষ প���ামর্শ</li>
              <li>স্যানিটারি সলিউশন</li>
              <li>ডেলিভারি</li>
            </ul>
          </div>
        </div>
        <div
          class="pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4 text-gray-500 text-sm">
          <p>© ২০২৬ মেসার্স নজরুল ট্রেডার্স। সকল স্বত্ব সংরক্ষিত।</p>
          <p class="flex items-center gap-2">
            <i class="fa-solid fa-heart text-red-800" aria-hidden="true"></i>
            কৃষকের সাথে সবসময়
          </p>
        </div>
      </div>
    </footer>

    <!-- Back to top -->
    <button
      id="backToTop"
      class="fixed bottom-28 right-6 bg-gold text-dark-green w-14 h-14 rounded-full shadow-2xl translate-y-24 opacity-0 transition-all duration-500 z-50 flex items-center justify-center hover:bg-white"
      aria-label="Back to top">
      <i class="fa-solid fa-arrow-up text-xl" aria-hidden="true"></i>
    </button>

    <!-- Floating WhatsApp button -->
    <a
      id="whatsappBtn"
      href="https://wa.me/8801730125352?text=হ্যালো%20নজরুল%20ট্রেডার্স%2C%20আমি%20পণ্যের%20সম্পর্কে%20জানতে%20চাই%20(%20পণ্যের%20নাম%20/%20প্রশ্ন%20)%20"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="WhatsApp - জানতে যোগাযোগ করুন"
      class="fixed bottom-8 right-6 z-50 flex items-center gap-3 bg-[#25D366] text-white px-4 py-3 rounded-full shadow-lg hover:scale-105 transition-transform">
      <i class="fa-brands fa-whatsapp text-2xl" aria-hidden="true"></i>
      <span class="hidden sm:inline font-bold">WhatsApp করুন</span>
    </a>

    <!-- Request-a-Quote Modal (accessible) -->
    <div id="quoteModal" class="hidden modal-backdrop p-4" aria-hidden="true">
      <div
        role="dialog"
        aria-modal="true"
        aria-labelledby="quoteTitle"
        class="max-w-lg w-full bg-white rounded-lg p-6 shadow-lg"
        id="quoteDialog">
        <div class="flex justify-between items-start">
          <h3 id="quoteTitle" class="text-xl font-bold text-dark-green">
            প্রোডাক্ট সম্পর্কে তথ্য পাঠান
          </h3>
          <button
            id="closeQuote"
            aria-label="Close dialog"
            class="text-gray-600 hover:text-black">
            ✕
          </button>
        </div>

        <form
          id="quoteForm"
          class="mt-4 space-y-3"
          action="https://formspree.io/f/your_form_id"
          method="POST">
          <input type="hidden" name="product" id="quoteProduct" value="" />
          <!-- honeypot -->
          <input
            type="text"
            name="_gotcha"
            style="display: none"
            aria-hidden="true" />
          <label class="block">
            <span class="text-sm text-gray-600">নাম</span>
            <input
              name="name"
              required
              class="w-full border px-3 py-2 rounded" />
          </label>
          <label class="block">
            <span class="text-sm text-gray-600">মোবাইল নম্বর</span>
            <input
              name="phone"
              type="tel"
              required
              class="w-full border px-3 py-2 rounded" />
          </label>
          <label class="block">
            <span class="text-sm text-gray-600">বার্তা (ঐচ্ছিক)</span>
            <textarea
              name="message"
              rows="3"
              class="w-full border px-3 py-2 rounded"></textarea>
          </label>

          <div class="flex justify-between items-center gap-3">
            <div class="text-sm text-gray-500">
              আপনি চাইলে ছবি আপলোড করতে পারেন (ঐচ্ছিক)
            </div>
            <div class="flex gap-2">
              <button
                type="button"
                id="cancelQuote"
                class="px-4 py-2 rounded border">
                বাতিল
              </button>
              <button
                type="submit"
                class="px-4 py-2 rounded bg-dark-green text-white">
                পাঠান
              </button>
            </div>
          </div>
        </form>

        <!-- Thank you / follow-up (hidden by default) -->
        <div id="quoteThanks" class="mt-4 hidden">
          <p class="font-bold text-dark-green">
            ধন্যবাদ! আপনার অনুরোধ গ্রহণ করা হয়েছে।
          </p>
          <p class="text-sm text-gray-600">
            আমরা শীঘ্রই আপনার সাথে যোগাযোগ করব।
          </p>
          <div class="mt-3 flex gap-3">
            <a
              id="whatsappAfter"
              href="#"
              target="_blank"
              class="inline-block bg-[#25D366] text-white px-4 py-2 rounded"
              >WhatsApp-এ জানাবেন</a
            >
            <button id="closeAfter" class="px-4 py-2 rounded border">
              বন্ধ করুন
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Small toast -->
    <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      /* Complete page script: unified, robust, accessible, and duplicate-free.
         Replaces the original <script> blocks (remove the old ones).
      */

      /* Safe AOS init */
      if (typeof AOS !== 'undefined' && AOS && typeof AOS.init === 'function') {
        AOS.init({duration: 800, once: true});
      }

      /* Analytics-safe event sender */
      function sendAnalyticsEvent(name, params) {
        try {
          if (window.gtag) {
            window.gtag('event', name, params || {});
          } else if (window.dataLayer) {
            window.dataLayer.push({event: name, ...(params || {})});
          }
        } catch (e) {
          // no-op
        }
      }

      /* DOM ready */
      document.addEventListener('DOMContentLoaded', function () {
        // Elements (get once)
        const menuBtn = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const contactForm = document.getElementById('contactForm');
        const whatsappBtn = document.getElementById('whatsappBtn');
        const telLinks = document.querySelectorAll('.tel-link');
        const backToTopBtn = document.getElementById('backToTop');
        const toast = document.getElementById('toast');

        // -------------------------
        // Unified Mobile Menu Logic
        // -------------------------
        if (menuBtn && mobileMenu) {
          // Initialize ARIA to reflect initial DOM
          const isInitiallyOpen =
            mobileMenu.classList.contains('active') &&
            !mobileMenu.classList.contains('hidden');
          menuBtn.setAttribute(
            'aria-expanded',
            isInitiallyOpen ? 'true' : 'false',
          );
          mobileMenu.setAttribute(
            'aria-hidden',
            isInitiallyOpen ? 'false' : 'true',
          );

          let focusTrapHandler = null;

          function openMenu() {
            mobileMenu.classList.remove('hidden'); // make it visible so transitions can run
            // apply active in next frame to allow CSS transition in
            requestAnimationFrame(() => mobileMenu.classList.add('active'));

            menuBtn.setAttribute('aria-expanded', 'true');
            mobileMenu.setAttribute('aria-hidden', 'false');

            // focus first interactive element for keyboard users
            const first = mobileMenu.querySelector(
              'a, button, [tabindex]:not([tabindex="-1"])',
            );
            if (first) first.focus();

            // focus trap inside mobileMenu
            focusTrapHandler = function (e) {
              if (e.key !== 'Tab') return;
              const focusable = mobileMenu.querySelectorAll(
                'a[href], button:not([disabled]), textarea, input:not([type="hidden"]), select, [tabindex]:not([tabindex="-1"])',
              );
              if (!focusable.length) return;
              const firstEl = focusable[0];
              const lastEl = focusable[focusable.length - 1];
              if (e.shiftKey && document.activeElement === firstEl) {
                e.preventDefault();
                lastEl.focus();
              } else if (!e.shiftKey && document.activeElement === lastEl) {
                e.preventDefault();
                firstEl.focus();
              }
            };
            mobileMenu.addEventListener('keydown', focusTrapHandler);
          }

          function closeMenu() {
            mobileMenu.classList.remove('active');
            menuBtn.setAttribute('aria-expanded', 'false');
            mobileMenu.setAttribute('aria-hidden', 'true');

            // after transition ends, hide from flow
            const onTransitionEnd = function (ev) {
              if (ev.target !== mobileMenu) return;
              mobileMenu.classList.add('hidden');
              mobileMenu.removeEventListener('transitionend', onTransitionEnd);
            };
            mobileMenu.addEventListener('transitionend', onTransitionEnd);

            // fallback in case transitionend doesn't fire
            setTimeout(() => {
              if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
              }
            }, 450);

            if (focusTrapHandler) {
              mobileMenu.removeEventListener('keydown', focusTrapHandler);
              focusTrapHandler = null;
            }

            // return focus to toggle button
            menuBtn.focus();
          }

          function toggleMenu() {
            const isOpen =
              mobileMenu.classList.contains('active') &&
              !mobileMenu.classList.contains('hidden');
            if (isOpen) closeMenu();
            else openMenu();
          }

          menuBtn.addEventListener('click', function (e) {
            e.stopPropagation();
            toggleMenu();
            sendAnalyticsEvent('mobile_menu_toggle', {
              opened: menuBtn.getAttribute('aria-expanded') === 'true',
            });
          });

          // close when clicking a link inside the mobile menu
          mobileMenu.querySelectorAll('a').forEach((link) => {
            link.addEventListener('click', () => {
              closeMenu();
            });
          });

          // close on escape
          document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
              const isOpen =
                mobileMenu.classList.contains('active') &&
                !mobileMenu.classList.contains('hidden');
              if (isOpen) closeMenu();
            }
          });

          // click outside to close when open
          document.addEventListener('click', function (e) {
            const isOpen =
              mobileMenu.classList.contains('active') &&
              !mobileMenu.classList.contains('hidden');
            if (!isOpen) return;
            if (!mobileMenu.contains(e.target) && !menuBtn.contains(e.target)) {
              closeMenu();
            }
          });

          // ensure state is reset when resizing to desktop
          window.addEventListener('resize', function () {
            if (window.innerWidth >= 1024) {
              mobileMenu.classList.remove('active');
              mobileMenu.classList.add('hidden');
              mobileMenu.setAttribute('aria-hidden', 'true');
              menuBtn.setAttribute('aria-expanded', 'false');
            }
          });
        }

        // -------------------------
        // Click tracking for contact
        // -------------------------
        if (whatsappBtn) {
          whatsappBtn.addEventListener('click', function () {
            sendAnalyticsEvent('contact_whatsapp_click', {
              label: 'floating_whatsapp',
            });
          });
        }
        telLinks.forEach((link) => {
          link.addEventListener('click', () => {
            sendAnalyticsEvent('contact_tel_click', {
              number: link.getAttribute('href'),
            });
          });
        });

        // -------------------------
        // Back to top
        // -------------------------
        if (backToTopBtn) {
          // initial hidden state via classes in markup; toggle on scroll
          window.addEventListener('scroll', () => {
            if (window.scrollY > 400) {
              backToTopBtn.classList.remove('translate-y-24', 'opacity-0');
            } else {
              backToTopBtn.classList.add('translate-y-24', 'opacity-0');
            }
          });
          backToTopBtn.addEventListener('click', () => {
            window.scrollTo({top: 0, behavior: 'smooth'});
            sendAnalyticsEvent('back_to_top_click', {});
          });
        }

        // -------------------------
        // Toast helper
        // -------------------------
        function showToast(message, duration = 3500) {
          if (!toast) return;
          // accessible announce
          toast.textContent = message;
          toast.classList.remove('hidden');
          setTimeout(() => {
            toast.classList.add('hidden');
          }, duration);
        }

        // -------------------------
        // Contact form (progressive enhancement)
        // -------------------------
        if (contactForm) {
          contactForm.addEventListener('submit', function (e) {
            // Progressive enhancement: if form has data-ajax="true", submit via fetch and show inline feedback.
            const useAjax = contactForm.getAttribute('data-ajax') === 'true';
            if (!useAjax) {
              // Allow normal submission (to Formspree). Show a quick toast for UX.
              showToast('আপনার বার্তা পাঠানো হচ্ছে…');
              sendAnalyticsEvent('contact_form_submit', {});
              return;
            }

            // AJAX path
            e.preventDefault();
            const action = contactForm.getAttribute('action') || '';
            const formData = new FormData(contactForm);

            // Show immediate feedback
            showToast('বার্তা প্রক্রিয়াকরণ করা হচ্ছে…');

            // If action looks like placeholder, simulate success
            if (action.includes('your_form_id') || action.trim() === '') {
              setTimeout(() => {
                showToast('ধন্যবাদ — আপনার বার্তা গ্রহণ করা হয়েছে।', 4000);
                sendAnalyticsEvent('contact_form_submit_simulated', {});
                contactForm.reset();
              }, 700);
              return;
            }

            fetch(action, {
              method: contactForm.getAttribute('method') || 'POST',
              body: formData,
              mode: 'cors',
            })
              .then((res) => {
                if (res.ok) {
                  showToast('ধন্যবাদ — আপনার বার্তা গ্রহণ করা হয়েছে।', 3500);
                  sendAnalyticsEvent('contact_form_submit', {});
                  contactForm.reset();
                } else {
                  throw new Error('Network response was not ok');
                }
              })
              .catch((err) => {
                showToast(
                  'দুঃখিত, কিছু ভুল হয়েছে। অনুগ্রহ করে পরে আবার চেষ্টা করুন।',
                  5000,
                );
              });
          });
        }

        // -------------------------
        // Request-a-Quote modal logic (accessible + AJAX submit optional)
        // -------------------------
        const modal = document.getElementById('quoteModal');
        const dialog = document.getElementById('quoteDialog');
        const openBtns = document.querySelectorAll('.request-quote-btn');
        const closeBtn = document.getElementById('closeQuote');
        const cancelBtn = document.getElementById('cancelQuote');
        const quoteForm = document.getElementById('quoteForm');
        const quoteProduct = document.getElementById('quoteProduct');
        const quoteThanks = document.getElementById('quoteThanks');
        const whatsappAfter = document.getElementById('whatsappAfter');
        const closeAfter = document.getElementById('closeAfter');

        let lastFocusedElement = null;

        function openModal(productName) {
          lastFocusedElement = document.activeElement;
          if (quoteProduct) quoteProduct.value = productName || '';
          if (!modal) return;
          modal.classList.remove('hidden');
          modal.setAttribute('aria-hidden', 'false');
          // prevent page scroll while modal open
          document.documentElement.style.overflow = 'hidden';
          // focus first input
          const firstInput = modal.querySelector(
            'input[name="name"], input, textarea, button',
          );
          if (firstInput) firstInput.focus();
          sendAnalyticsEvent('quote_modal_open', {product: productName});
        }

        function closeModal() {
          if (!modal) return;
          modal.classList.add('hidden');
          modal.setAttribute('aria-hidden', 'true');
          document.documentElement.style.overflow = '';
          if (quoteForm) quoteForm.classList.remove('hidden');
          if (quoteThanks) quoteThanks.classList.add('hidden');
          if (lastFocusedElement) lastFocusedElement.focus();
        }

        openBtns.forEach((btn) => {
          btn.addEventListener('click', function () {
            openModal(btn.getAttribute('data-product'));
          });
        });
        if (closeBtn) closeBtn.addEventListener('click', closeModal);
        if (cancelBtn) cancelBtn.addEventListener('click', closeModal);
        if (closeAfter) closeAfter.addEventListener('click', closeModal);

        // close on Esc key
        document.addEventListener('keydown', function (e) {
          if (
            e.key === 'Escape' &&
            modal &&
            !modal.classList.contains('hidden')
          ) {
            closeModal();
          }
        });

        // focus trap inside dialog (if dialog present)
        if (dialog) {
          dialog.addEventListener('keydown', function (e) {
            if (e.key !== 'Tab') return;
            const focusable = dialog.querySelectorAll(
              'a[href], button:not([disabled]), textarea, input:not([type="hidden"]), select, [tabindex]:not([tabindex="-1"])',
            );
            if (!focusable.length) return;
            const first = focusable[0];
            const last = focusable[focusable.length - 1];
            if (e.shiftKey && document.activeElement === first) {
              e.preventDefault();
              last.focus();
            } else if (!e.shiftKey && document.activeElement === last) {
              e.preventDefault();
              first.focus();
            }
          });
        }

        // Quote form submission (progressive enhancement)
        if (quoteForm) {
          quoteForm.addEventListener('submit', function (e) {
            e.preventDefault(); // handle progressively with fetch to show inline feedback reliably

            const action = quoteForm.getAttribute('action') || '';
            const useAjax = quoteForm.getAttribute('data-ajax') !== 'false'; // default true for better UX
            const formData = new FormData(quoteForm);

            // If placeholder action, simulate success
            if (!useAjax) {
              // fallback to default behavior
              quoteForm.submit();
              return;
            }

            // show small loading state by disabling form elements
            const submitBtn = quoteForm.querySelector('button[type="submit"]');
            if (submitBtn) submitBtn.disabled = true;

            // If action is placeholder or contains "your_form_id" simulate success
            if (action.includes('your_form_id') || action.trim() === '') {
              setTimeout(() => {
                try {
                  const nameVal = encodeURIComponent(
                    (quoteForm.querySelector('input[name="name"]') || {})
                      .value || '',
                  );
                  const productVal = encodeURIComponent(
                    (quoteForm.querySelector('input[name="product"]') || {})
                      .value || '',
                  );
                  const text = encodeURIComponent(
                    `নমস্কার ${nameVal}님, আপনার অনুরোধ (${productVal}) গ্রহণ করা হয়েছে। আমাদের টিম শীঘ্রই যোগাযোগ করবেন।`,
                  );
                  if (whatsappAfter)
                    whatsappAfter.href = `https://wa.me/8801730125352?text=${text}`;
                  quoteForm.classList.add('hidden');
                  if (quoteThanks) quoteThanks.classList.remove('hidden');
                  sendAnalyticsEvent('quote_form_submit_simulated', {
                    product: productVal,
                  });
                } catch (err) {
                  showToast('ধন্যবাদ — আপনার অনুরোধ আমরা পেয়েছি।');
                } finally {
                  if (submitBtn) submitBtn.disabled = false;
                }
              }, 700);
              return;
            }

            // Real AJAX submission
            fetch(action, {
              method: quoteForm.getAttribute('method') || 'POST',
              body: formData,
              mode: 'cors',
            })
              .then((res) => {
                if (!res.ok) throw new Error('Network error');
                return res.text ? res.text() : res;
              })
              .then(() => {
                try {
                  const nameVal = encodeURIComponent(
                    (quoteForm.querySelector('input[name="name"]') || {})
                      .value || '',
                  );
                  const productVal = encodeURIComponent(
                    (quoteForm.querySelector('input[name="product"]') || {})
                      .value || '',
                  );
                  const text = encodeURIComponent(
                    `নমস্কার ${nameVal}님, আপনার অনুরোধ (${productVal}) গ্রহণ করা হয়েছে। আমাদের টিম শীঘ্রই যোগাযোগ করবেন।`,
                  );
                  if (whatsappAfter)
                    whatsappAfter.href = `https://wa.me/8801730125352?text=${text}`;
                  quoteForm.classList.add('hidden');
                  if (quoteThanks) quoteThanks.classList.remove('hidden');
                  sendAnalyticsEvent('quote_form_submit', {
                    product: productVal,
                  });
                } catch (err) {
                  showToast('ধন্যবাদ — আপনার অনুরোধ পাওয়া গেছে।');
                } finally {
                  if (submitBtn) submitBtn.disabled = false;
                }
              })
              .catch((err) => {
                showToast(
                  'দুঃখিত, সাবমিশ���ে সমস্যা হয়েছে — অনুগ্রহ করে পরে আবার চেষ্টা করুন।',
                  6000,
                );
                if (submitBtn) submitBtn.disabled = false;
              });
          });
        }

        // Click analytics for direct wa.me links on the page
        const directWhats = document.querySelectorAll('a[href*="wa.me"]');
        directWhats.forEach((a) =>
          a.addEventListener('click', () =>
            sendAnalyticsEvent('whatsapp_click', {href: a.href}),
          ),
        );

        // Request-quote inline feedback close buttons handled earlier (closeAfter, closeBtn)

        // -------------------------
        // High-contrast toggle (restore preference)
        // -------------------------
        const contrastToggle = document.getElementById('contrastToggle');
        if (contrastToggle) {
          contrastToggle.addEventListener('click', () => {
            const pressed =
              contrastToggle.getAttribute('aria-pressed') === 'true';
            document.documentElement.classList.toggle('high-contrast');
            contrastToggle.setAttribute('aria-pressed', (!pressed).toString());
            localStorage.setItem('highContrast', (!pressed).toString());
            sendAnalyticsEvent('contrast_toggle', {
              enabled: (!pressed).toString(),
            });
          });
          if (localStorage.getItem('highContrast') === 'true') {
            document.documentElement.classList.add('high-contrast');
            contrastToggle.setAttribute('aria-pressed', 'true');
          }
          contrastToggle.classList.remove('hidden'); // show toggle now that JS is enabled
        }

        // -------------------------
        // Active section highlighting: use IntersectionObserver for performance
        // -------------------------
        (function setupSectionObserver() {
          const sections = document.querySelectorAll('section[id]');
          const navLinks = document.querySelectorAll("nav a[href^='#']");

          if (
            !sections.length ||
            !navLinks.length ||
            !('IntersectionObserver' in window)
          ) {
            // fallback to scroll-based approach (simple)
            function activeMenuFallback() {
              let scrollY = window.pageYOffset;
              sections.forEach((current) => {
                const sectionHeight = current.offsetHeight;
                const sectionTop = current.offsetTop - 120;
                const sectionId = current.getAttribute('id');
                const link = document.querySelector(
                  `nav a[href="#${sectionId}"]`,
                );
                if (!link) return;
                if (
                  scrollY > sectionTop &&
                  scrollY <= sectionTop + sectionHeight
                ) {
                  link.classList.add('nav-active');
                } else {
                  link.classList.remove('nav-active');
                }
              });
            }
            window.addEventListener('scroll', activeMenuFallback);
            activeMenuFallback();
            return;
          }

          // IntersectionObserver options
          const obsOptions = {
            root: null,
            rootMargin: '-40% 0px -40% 0px', // trigger when middle of section crosses midpoint
            threshold: 0,
          };

          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              const id = entry.target.getAttribute('id');
              const link = document.querySelector(`nav a[href="#${id}"]`);
              if (!link) return;
              if (entry.isIntersecting) {
                link.classList.add('nav-active');
              } else {
                link.classList.remove('nav-active');
              }
            });
          }, obsOptions);

          sections.forEach((s) => observer.observe(s));
        })();

        // -------------------------
        // Small accessibility improvement: observe modal class attribute and disconnect on unload
        // -------------------------
        let modalObserver = null;
        if (modal) {
          modalObserver = new MutationObserver((mutations) => {
            mutations.forEach((m) => {
              if (m.attributeName === 'class') {
                if (!modal.classList.contains('hidden')) {
                  modal.setAttribute('aria-hidden', 'false');
                } else {
                  modal.setAttribute('aria-hidden', 'true');
                }
              }
            });
          });
          modalObserver.observe(modal, {attributes: true});
        }
        // disconnect observer on unload to avoid leaks
        window.addEventListener('unload', function () {
          if (modalObserver) {
            try {
              modalObserver.disconnect();
            } catch (e) {}
          }
        });

        // -------------------------
        // Misc: send product request analytics also for existing request buttons
        // -------------------------
        document.querySelectorAll('.request-quote-btn').forEach((btn) => {
          btn.addEventListener('click', () => {
            sendAnalyticsEvent('request_quote_click', {
              product: btn.getAttribute('data-product'),
            });
          });
        });
      });
    </script>

    <!-- Optional: small GA4 snippet (replace MEASUREMENT_ID with your actual ID) -->
    <!--
    <script async src="https://www.googletagmanager.com/gtag/js?id=MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'MEASUREMENT_ID');
    </script>
    -->
  </body>
</html>
